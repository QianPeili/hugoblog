<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on çˆªå­</title>
    <link>https://qianpeili.github.io/hugoblog/posts/</link>
    <description>Recent content in Posts on çˆªå­</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 25 Jan 2018 11:16:52 +0800</lastBuildDate>
    
	<atom:link href="https://qianpeili.github.io/hugoblog/posts/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Mysqlé…ç½®æ–‡ä»¶å› ä¸ºæƒé™è€Œæœªç”Ÿæ•ˆ</title>
      <link>https://qianpeili.github.io/hugoblog/posts/mysql-cnf-ignore/</link>
      <pubDate>Thu, 25 Jan 2018 11:16:52 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/mysql-cnf-ignore/</guid>
      <description> åœ¨é¡¹ç›®ç»„çš„æœºå­ä¸Šéƒ¨ç½²äº†ä¸€ä¸ª mysql æœåŠ¡ï¼Œä¸Šé¢è·‘äº†ä¸€ä¸ªäº‹ä»¶ã€‚
mysql é»˜è®¤æ˜¯å…³é—­äº‹ä»¶è°ƒåº¦å™¨çš„ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ‰‹åŠ¨è¿è¡Œå‘½ä»¤æ‰“å¼€å®ƒï¼š
SET GLOBAL event_scheduler = ON;  ä½†æ˜¯è¿™æ ·ä¸€æ—¦ mysql é‡å¯ï¼Œè®¾ç½®å°±å¤±æ•ˆäº†ã€‚å› ä¸ºæˆ‘ä»¬çš„æœºå­å°±æ˜¯æ™®é€šçš„å°å¼æœºï¼Œå…¬å¸æœ‰æ—¶å€™ä¼šæ–­ç”µï¼Œmysql ä¼šæ—¶ä¸æ—¶é‡å¯ã€‚äºæ˜¯æˆ‘ä¿®æ”¹äº† /etc/my.cnf æ–‡ä»¶ï¼Œè®¾ç½® event_scheduler=1ï¼Œé‡å¯ mysql æœåŠ¡åå‘ç°é…ç½®å¹¶æœªç”Ÿæ•ˆã€‚æˆ‘æ€€ç–‘æ˜¯å› ä¸º mysql å¹¶æ²¡æœ‰ä½¿ç”¨è¿™ä»½é…ç½®ï¼Œäºæ˜¯æˆ‘åˆä¿®æ”¹äº† /etc/mysql/my.cnfï¼Œé‡å¯ååŒæ ·æœªç”Ÿæ•ˆã€‚
å¶ç„¶é€šè¿‡å‘½ä»¤ï¼š
mysql --print-defaults  å‘ç°æ‰“å°å‡ºçš„å†…å®¹æœ‰è¿™æ ·ä¸€æ¡ï¼š
mysql: [Warning] World-writable config file &#39;/etc/mysql/my.cnf&#39; is ignored.  ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼ŒåŸå› æ˜¯å› ä¸ºé…ç½®æ–‡ä»¶å¯å†™æƒé™å¤ªå¹¿ï¼ˆ777ï¼‰ï¼Œmysql è®¤ä¸ºæ–‡ä»¶ä¸å®‰å…¨ï¼Œä¼šå¿½ç•¥è¿™ä»½é…ç½®ã€‚
å› æ­¤ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š
chmod 644 /etc/mysql/my.cnf  å³å¯è§£å†³é—®é¢˜ã€‚ å†è¿è¡Œ mysql --print-defaults å°±ä¸ä¼šè¾“å‡ºä¹‹å‰é‚£æ¡ warning äº†ã€‚
ç»§ç»­é‡å¯ mysqlï¼ŒæŸ¥çœ‹äº‹ä»¶è°ƒåº¦å™¨å·²ç»è‡ªåŠ¨å¼€å¯ã€‚
TODO  æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å¯åŠ¨æ—¥å¿—ï¼Œæ˜¯å¦æ— æ³•æ ¹æ®å¯åŠ¨æ—¥å¿—è·å–è¿™æ¡warningã€‚ service mysql status å‘½ä»¤å¯ä»¥çœ‹åˆ°ä¸€äº›æ—¥å¿—ï¼Œä½†ä¹Ÿä¸åŒ…å«è¿™æ¡warningã€‚  </description>
    </item>
    
    <item>
      <title>ç”¨ Dockeræ­å»º MongoDB replica set</title>
      <link>https://qianpeili.github.io/hugoblog/posts/docker-mongo-cluster-2017-12-08/</link>
      <pubDate>Fri, 08 Dec 2017 10:46:55 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/docker-mongo-cluster-2017-12-08/</guid>
      <description>æ˜¨å¤© Mongodb 3.6 å‘å¸ƒäº†ï¼Œæƒ³å°è¯•ä¸‹æ–°ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯ Change streamï¼Œå†™å®Œä»£ç è·‘èµ·æ¥ï¼Œç»“æœå‘Šè¯‰æˆ‘éœ€è¦ replica set æ¨¡å¼ä¸‹æ‰èƒ½ä½¿ç”¨ï¼Œå‘çˆ¹å•Šï¼äºæ˜¯ä¸´æ—¶åœ¨ç½‘ä¸Šæ‰¾äº†æ‰¾ç›¸å…³èµ„æ–™ï¼Œå‡†å¤‡ç”¨ docker æ­ä¸€ä¸ªç®€å•çš„ replica setï¼ˆä¸‹æ–‡ç»Ÿä¸€ç”¨â€œå‰¯æœ¬é›†â€ç§°å‘¼ï¼‰ã€‚
ä½¿ç”¨ Docker æ­å»ºå‰¯æœ¬é›† æœ¬æ®µå†…å®¹ä¸»è¦å‚è€ƒäº†ç½‘ä¸Š Soham Kamani å†™çš„ Creating a MongoDB replica set using Docker ğŸƒã€‚æ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥æŸ¥çœ‹åŸæ–‡ã€‚
å®‰è£…docker-ce Get Docker CE for Ubuntu | Docker Documentation
ä¸‹è½½ mongo:3.6 é•œåƒ docker pull mongo:3.6  åˆ›å»ºå‰¯æœ¬é›†ä¸“ç”¨ Network docker network create mongo-cluster  å¯åŠ¨ 3 ä¸ª mongo å®ä¾‹ docker run -P -d \ --name mongo1 \ --net mongo-cluster \ mongo:3.6 mongod --bind_ip 0.</description>
    </item>
    
    <item>
      <title>Goçš„appendä½¿ç”¨è¸©å‘è®°å½•</title>
      <link>https://qianpeili.github.io/hugoblog/posts/go%E7%9A%84append%E4%BD%BF%E7%94%A8%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</link>
      <pubDate>Sun, 03 Dec 2017 18:23:21 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/go%E7%9A%84append%E4%BD%BF%E7%94%A8%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</guid>
      <description>go æœ‰ä¸ªå¾ˆå¥½ç”¨çš„æ•°æ®ç±»å‹â€”â€”sliceï¼Œæœ‰ç‚¹ç±»ä¼¼ python é‡Œçš„ listã€‚go ä¸­ç»™ slice æ·»åŠ å…ƒç´ ï¼Œç”¨çš„æ˜¯ append å‡½æ•°ï¼Œå®ƒè·Ÿpythonä¸­çš„list.appendæ–¹æ³•æœ‰äº›ä¸åŒï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä¹‹å‰ä¸€ç›´éƒ½æŠŠgoä¸­çš„appendå½“åšpythonä¸­çš„ + å˜å½¢ã€‚
åœ¨æˆ‘ä¹‹å‰çš„ç†è§£ä¸­ï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œä¸¤è€…å…¶å®æ˜¯å·®ä¸å¤šçš„ï¼Œæ¯”å¦‚ï¼š
go ä»£ç 
package main import &amp;quot;log&amp;quot; func main() { a := []int{1, 2} a = append(a, []int{3, 4}...) log.Println(a) }  python ä»£ç 
a = [1, 2] a = a + [3, 4] print(a)  è¾“å‡ºç»“æœ a éƒ½æ˜¯ï¼š [1, 2, 3, 4]ï¼Œä¸¤è€…ç¡®å®å¾ˆç›¸ä¼¼
ä½†æ˜¯æˆ‘ä»Šå¤©åœ¨åˆ·é¢˜ç›®æ—¶ï¼Œæƒ³è¦å®ç°è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼š
python ä»£ç ï¼š
a = [1, 2, 3, 4, 5] b = a[:2] + a[3:]  æ‰§è¡Œåçš„ç»“æœï¼š a == [1, 2, 3, 4, 5], b == [1, 2, 4, 5]</description>
    </item>
    
    <item>
      <title>æ‰“å° Go çš„Stack Trace</title>
      <link>https://qianpeili.github.io/hugoblog/posts/%E6%89%93%E5%8D%B0go%E7%9A%84stacktrace/</link>
      <pubDate>Sat, 04 Nov 2017 17:42:02 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/%E6%89%93%E5%8D%B0go%E7%9A%84stacktrace/</guid>
      <description>ç®—æ˜¯å†™äº†ç¬¬ä¸€ä¸ªæ¯”è¾ƒæ­£å¼çš„ Go é¡¹ç›®å§ï¼Œç„¶åç°åœ¨åœ¨è€ƒè™‘å¦‚ä½•è®¾è®¡æ—¥å¿—ç³»ç»Ÿã€‚
æœåŠ¡é‡‡ç”¨ TCP é•¿è¿æ¥ï¼Œæ¯ä¸ª session éƒ½æ˜¯å•ç‹¬å¯åŠ¨ä¸€ä¸ª goroutine å¤„ç†äº‹åŠ¡ï¼ˆå…¶å®å‘æ¶ˆæ¯ä¹Ÿæœ‰ä¸€ä¸ªåç¨‹ï¼Œä¸è¿‡å‘æ¶ˆæ¯éƒ¨åˆ†é€»è¾‘ç®€å•ï¼‰ï¼Œæ‰€ä»¥è€ƒè™‘åœ¨æœ€é¡¶å±‚å†™ä¸€ä¸ª recover å‡½æ•°ï¼Œæ”¶é›†ä¸ŠæŠ¥çš„é”™è¯¯ä¿¡æ¯å¹¶è¾“å‡ºã€‚å¤§è‡´æ˜¯è¿™ä¹ˆä¸ªä¸œè¥¿ï¼š
package main import ( &amp;quot;log&amp;quot; &amp;quot;errors&amp;quot; ) func main() { defer func() { if r := recover(); r != nil { log.Println(r) } }() // make a panic panic(errors.New(&amp;quot;ha! A bug&amp;quot;)) }  è¾“å‡ºï¼š 2017/11/04 17:19:16 ha! A bug
ä½†å¦‚æœåªæ˜¯è¿™æ ·ï¼Œå…¶å®å¹¶ä¸èƒ½å¸®åŠ©æˆ‘ä»¬å¾ˆå¥½çš„æ’æŸ¥é—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“æœ‰äº†ä¸€ä¸ª BUGï¼Œä½†ä¸çŸ¥é“æ˜¯å“ªé‡Œé™¤äº†é—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬æ‰“å°å‡ºæ•è·é”™è¯¯æ—¶çš„ Stack Traceã€‚å†…å»ºåº“ runtime å°±æœ‰è¿™ä¸ªåŠŸèƒ½ï¼š
func Stack(buf []byte, all bool) int
Stack formats a stack trace of the calling goroutine into buf and returns the number of bytes written to buf.</description>
    </item>
    
    <item>
      <title>Goè·¨å¹³å°ç¼–è¯‘</title>
      <link>https://qianpeili.github.io/hugoblog/posts/go%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/</link>
      <pubDate>Wed, 01 Nov 2017 19:22:02 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/go%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/</guid>
      <description>å…¬å¸å¼€å‘ç³»ç»Ÿæ˜¯ Windowsï¼ŒæœåŠ¡å™¨éƒ¨ç½²ç¯å¢ƒæ˜¯ Linuxã€‚ä¸€å¼€å§‹æµ‹è¯•çš„æ—¶å€™é€‰çš„æ˜¯ git pull å¸¦ç”Ÿäº§æœºä¸Šï¼Œç¼–è¯‘åå¯åŠ¨ã€‚
ä½†è¿™ä¸ªæ–¹æ³•å¤ªç¬¨ï¼Œä¸€æ˜¯ä»£ç å®¹æ˜“æ³„éœ²ï¼ŒäºŒæ˜¯ç”Ÿäº§æœºè¦åŒæ—¶åŒæ­¥åº“æ–‡ä»¶ï¼Œä¸ç®¡æ˜¯ go get æ–¹å¼è¿˜æ˜¯ govendor æ–¹å¼éƒ½æ˜¾å¾—å¤ªéº»çƒ¦ã€‚
ä¸è¿‡å¥½åœ¨ Go çš„è·¨å¹³å°ç¼–è¯‘éå¸¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸‹ç¼–è¯‘å¥½å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå†æ”¾å…¥ç”Ÿäº§æœºéƒ¨ç½²ã€‚
æ€»ç»“ä¸€ä¸‹ windowsç¯å¢ƒä¸‹ go è·¨å¹³å°ç¼–è¯‘çš„æ–¹å¼ã€‚
GOOS å’Œ GOARCH å…³äºè¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡çš„å«ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»å®˜æ–¹æ–‡æ¡£ï¼š Installing Go from source - The Go Programming Languageä¸­äº†è§£ï¼Œåˆ†åˆ«æ˜¯ç›®æ ‡ç³»ç»Ÿçš„ æ“ä½œç³»ç»Ÿ å’Œ ç¼–è¯‘æ¶æ„ã€‚åªè¦æˆ‘ä»¬è®¾ç½®å¥½è¿™ä¸¤ä¸ªå‚æ•°çš„å†…å®¹ï¼Œå°±å¯ä»¥è½»æ¾è¿›è¡Œè·¨å¹³å°ç¼–è¯‘äº†ã€‚
æ”¯æŒçš„åˆ—è¡¨
$GOOS $GOARCH android arm darwin 386 darwin amd64 darwin arm darwin arm64 dragonfly amd64 freebsd 386 freebsd amd64 freebsd arm linux 386 linux amd64 linux arm linux arm64 linux ppc64 linux ppc64le linux mips linux mipsle linux mips64 linux mips64le netbsd 386 netbsd amd64 netbsd arm openbsd 386 openbsd amd64 openbsd arm plan9 386 plan9 amd64 solaris amd64 windows 386 windows amd64  Windows cmd æœ€ç›´æ¥çš„äº†ï¼Œéœ€è¦ä¿®æ”¹ç¯å¢ƒå˜é‡</description>
    </item>
    
    <item>
      <title>Go çš„request.Body rewind åŠŸèƒ½</title>
      <link>https://qianpeili.github.io/hugoblog/posts/request-body%E7%9A%84rewind%E5%8A%9F%E8%83%BD/</link>
      <pubDate>Sat, 16 Sep 2017 18:31:52 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/request-body%E7%9A%84rewind%E5%8A%9F%E8%83%BD/</guid>
      <description>è¿‘æ—¥å‚åŠ äº†å®éªŒæ¥¼çš„ æ¥¼èµ› ç¬¬15æœŸ Goè¯­è¨€é¡¹ç›®æŒ‘æˆ˜ - å®éªŒæ¥¼
ç¬¬ä¸€é“é¢˜çš„é¢˜ç›®è¦æ±‚æ˜¯ï¼š
 å®ç°ä¸€ä¸ªç®€å•çš„æ•°æ®æ ¡éªŒåŠŸèƒ½ï¼Œå¯¹è¯·æ±‚ body åš md5 è®¡ç®—ï¼Œç„¶åæŠŠç»“æœè½¬ä¸ºåå…­è¿›åˆ¶æ·»åŠ åˆ°è¯·æ±‚ header ä¸­ï¼Œå¤´éƒ¨åç§°ä¸ºX-Md5ã€‚ä¹Ÿå°±æ˜¯åœ¨HTTP è¯·æ±‚ header ä¸­æ·»åŠ ä¸€ä¸ª X-Md5: é”®å€¼å¯¹ï¼Œå¦‚æœbodyä¸ºç©ºé‚£ä¹ˆå°±ä¸å¡«ã€‚
 æˆ‘ä¸€å¼€å§‹çš„å®ç°æ–¹å¼å¾ˆç›´æ¥æš´åŠ›ï¼š
func (t *Transport) RoundTrip(req *http.Request) (*http.Response, error) { if req.Body == nil { return t.RoundTripper.RoundTrip(req) } b, err := ioutil.ReadAll(req.Body) if len(b) == 0 { return t.RoundTripper.RoundTrip(req) } if err != nil { log.Fatal(err.Error()) } hexB := md5.Sum(b) req.Header.Add(&amp;quot;X-Md5&amp;quot;, hex.EncodeToString(hexB[:])) return t.RoundTripper.RoundTrip(req) }  ç›´æ¥è¯»å‡º req.Body ä¸­çš„å­—èŠ‚æ•°æ®ï¼Œè¿›è¡Œmd5è¿ç®—ã€‚æˆ‘åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæµ‹è¯•é€šè¿‡ï¼Œä½†æ˜¯å®éªŒç¯å¢ƒä¸‹ go test ä¼šæŠ¥ç±»ä¼¼é”™è¯¯ï¼š</description>
    </item>
    
    <item>
      <title>å‡çº§ GCC æ¥è§£å†³ heapdump build Error</title>
      <link>https://qianpeili.github.io/hugoblog/posts/%E5%8D%87%E7%BA%A7gcc%E8%A7%A3%E5%86%B3heapdump%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/</link>
      <pubDate>Wed, 16 Aug 2017 21:10:24 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/%E5%8D%87%E7%BA%A7gcc%E8%A7%A3%E5%86%B3heapdump%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/</guid>
      <description>ä»Šå¤©è¦éƒ¨ç½²ä¸€ä¸ªnode.jsçš„é¡¹ç›®ï¼Œç¬¬ä¸€æ¬¡ç©node.jsæœ‰ç‚¹å´©æºƒã€‚å®‰è£…ä¾èµ–çš„æ—¶å€™ä¸€ä¸ªheapdumpåº“å‡ºç°äº†build errorã€‚
åœ¨githubä¸Šæ‰¾åˆ°äº†ç±»ä¼¼çš„issueï¼š [error] heapdump@0.3.7 Build Error Â· Issue #72 Â· bnoordhuis/node-heapdump
é‡Œé¢æåˆ°çš„è§£å†³æ–¹å¼æ˜¯å‡çº§GCCï¼š
 Well, I have fixed it!
My gcc version is 4.6.3 when I update to 4.9.1 and retry it work!
 æˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹æœºå™¨çš„gccç‰ˆæœ¬ï¼Œæ˜¯ 4.4.7 çš„ï¼Œé—®é¢˜åº”è¯¥å°±åœ¨è¿™äº†ã€‚æ‰€ä»¥å®‰è£…ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„gccåº”è¯¥å°±è¡Œäº†ã€‚
å›½å†…ä¸ºäº†é€Ÿåº¦å¯ä»¥é€‰æ‹©ä¸­ç§‘é™¢çš„é•œåƒï¼š Index of /gnu/gcc/
æˆ‘é€‰æ‹©äº† 6.1.0 ç‰ˆæœ¬ï¼Œä¸‹è½½æºç åç®€å•åœ°æ ¹æ®å®˜æ–¹æ•™ç¨‹ InstallingGCC - GCC Wiki è¿›è¡Œå®‰è£…ã€‚
tar xzf gcc-6.1.0.tar.gz cd gcc-6.1.0 ./contrib/download_prerequisites cd .. mkdir objdir cd objdir $PWD/../gcc-6.1.0/configure --prefix=$HOME/gcc-6.1.0 --disable-multilib  å› ä¸ºgccç¼–è¯‘çœŸçš„è¦å¥½ä¹…å¥½ä¹…ï¼Œæ‰€ä»¥æˆ‘ç”¨ä¸Šäº†å…¨éƒ¨ cpu æ ¸å¿ƒã€‚
make -j 16 make -j 16 install  æ›¿æ¢æ—§ç‰ˆçš„gcc</description>
    </item>
    
    <item>
      <title>ã€ç¿»è¯‘ã€‘Goè¯­è¨€ä¸­çš„åå°„æœºåˆ¶</title>
      <link>https://qianpeili.github.io/hugoblog/posts/trans-go-reflect/</link>
      <pubDate>Fri, 28 Jul 2017 20:48:11 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/trans-go-reflect/</guid>
      <description>åŸæ–‡é“¾æ¥ï¼š The Laws of Reflection - The Go Blog
ä½œè€…ï¼š Rob Pike
ç¿»è¯‘ï¼š é’±ä½©ä¸½
ä»‹ç» åå°„( reflection )åœ¨è®¡ç®—æœºä¸­æŒ‡çš„æ˜¯ä¸€ä¸ªç¨‹åºå®¡æŸ¥è‡ªèº«ç»“æ„çš„èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯ç±»å‹( Types )ã€‚ åå°„æ˜¯å…ƒç¼–ç¨‹çš„ä¸€ç§å½¢å¼ï¼Œä¹Ÿæ˜¯è®©äººè§‰å¾—å¤´ç–¼çš„ä¸€ä¸ªç‚¹ã€‚
åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹åå°„åœ¨ Go ä¸­çš„å·¥ä½œåŸç†åšä¸€äº›è§£é‡Šè¯´æ˜ã€‚ å„ç§è®¡ç®—æœºè¯­è¨€çš„åå°„æœºåˆ¶ä¸å°½ç›¸åŒï¼ˆæœ‰çš„ç”šè‡³æ²¡æœ‰åå°„ï¼‰ï¼Œ ä½†è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬åªå…³å¿ƒ Go è¯­è¨€ä¸­çš„åå°„ï¼Œ æ–‡ä¸­æ‰€æœ‰åå°„ï¼Œéƒ½æ˜¯åœ¨ Go è¯­è¨€çš„èƒŒæ™¯ä¸‹ã€‚
ç±»å‹å’Œæ¥å£ ç”±äºåå°„å»ºç«‹åœ¨ç±»å‹æœºåˆ¶ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸€ä¸‹ Go çš„ç±»å‹ã€‚
Go æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½æœ‰ä¸€ä¸ªé™æ€çš„ç±»å‹ï¼Œå°±æ˜¯è¯´ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå˜é‡çš„ç±»å‹å¿…é¡»æ˜¯å›ºå®šä¸”å”¯ä¸€çš„ã€‚ æ¯”å¦‚ï¼š int, float32, *MyType, []byte ç­‰ç­‰ã€‚å¦‚æœæˆ‘ä»¬å¦‚ä¸‹ç”³æ˜ï¼š
type MyInt int var i int var j MyInt  é‚£ä¹ˆï¼Œå˜é‡ i å°±æ˜¯ int ç±»å‹ï¼Œå˜é‡ j å°±æ˜¯ MyInt ç±»å‹ã€‚ å°½ç®¡ i å’Œ j æ‹¥æœ‰ç›¸åŒçš„åº•å±‚ç±»å‹ï¼Œ ä½†ä»–ä»¬æœ¬èº«æ˜¯å®Œå…¨ä¸åŒçš„ç±»å‹ï¼Œä»–ä»¬ä¸èƒ½ç›´æ¥äº’ç›¸èµ‹å€¼ï¼Œå¿…é¡»é€šè¿‡ç±»å‹è½¬æ¢ã€‚
æ¥å£( interface )æ˜¯ Go ç±»å‹ä¸­éå¸¸é‡è¦çš„ä¸€ç§ç±»å‹ï¼Œå®ƒä»£è¡¨ä¸€äº›æ–¹æ³•çš„å›ºå®šé›†åˆã€‚ ä¸€ä¸ªæ¥å£å˜é‡å¯ä»¥å­˜æ”¾ä»»æ„çš„ï¼ˆéæ¥å£ï¼‰å…·ä½“å€¼ï¼Œåªè¦è¿™ä¸ªå€¼å®ç°äº†æ¥å£åŒ…å«çš„æ‰€æœ‰æ–¹æ³•ã€‚ æ¯”è¾ƒè‘—åçš„ä¸€å¯¹ä¾‹å­å°±æ˜¯ io.</description>
    </item>
    
    <item>
      <title>è§£å†³ Git Hooks æ— æ³•è¿è¡Œçš„é—®é¢˜</title>
      <link>https://qianpeili.github.io/hugoblog/posts/%E8%A7%A3%E5%86%B3git%E9%92%A9%E5%AD%90%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C%E7%9A%84%E9%97%AE%E9%A2%98/</link>
      <pubDate>Sat, 15 Jul 2017 14:46:17 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/%E8%A7%A3%E5%86%B3git%E9%92%A9%E5%AD%90%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
      <description>è¿™ä¸¤å¤©åœ¨ç ”ç©¶ Git Hooks çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ã€‚
åœ¨è§¦å‘é’©å­æ—¶ï¼Œç»ˆç«¯ä¸€ç›´è¾“å‡ºï¼š
remote: error: cannot run hooks/post-receive: No such file or directory  å…¶å®è¿™ä¸æ˜¯æ–‡ä»¶ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œåè€Œæ˜¯æ–‡ä»¶å­˜åœ¨ï¼Œä½†æ˜¯æœ‰é—®é¢˜æ‰ä¼šå‡ºç°è¿™ä¸ªæç¤ºã€‚
ç»è¿‡ç½‘ä¸ŠæŸ¥æ‰¾ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› 
ä¸€ã€ è„šæœ¬è§£é‡Šå™¨å¼‚å¸¸
æ¯”å¦‚ä¸å°å¿ƒæŠŠ /bin/bash å†™æˆäº† /bin/bsah, è¿™ä¸ªæƒ…å†µä¿®æ”¹æˆæ­£ç¡®å¯ç”¨çš„è§£é‡Šå™¨å³å¯ã€‚
äºŒã€ é”™è¯¯çš„æ¢è¡Œç¬¦
åœ¨ windows ç³»ç»Ÿé‡Œï¼Œé‡‡ç”¨ CRLF ä½œæ¢è¡Œç¬¦ï¼Œè€Œåœ¨ linux ä¸‹é‡‡ç”¨ LF ä½œæ¢è¡Œç¬¦ã€‚
å› ä¸ºæˆ‘çš„è„šæœ¬æ˜¯åœ¨ windows ç³»ç»Ÿä¸‹ç¼–å†™å®Œæˆåï¼Œç›´æ¥æ”¾åˆ° gitlab æœåŠ¡å™¨ä¸Šçš„ã€‚æ‰€ä»¥ä»£ç é‡Œçš„æ¢è¡Œç¬¦æ˜¯ CRLFï¼Œè¿™é€ æˆäº† git è¿è¡Œæ–‡ä»¶æ—¶çš„å¤±è´¥ã€‚
ä¿®å¤æ–¹æ³•ï¼Œå»æ‰è„šæœ¬æ–‡ä»¶ä¸­çš„ /r å­—ç¬¦ï¼š
sed -i -e &#39;s/\r//g&#39; .git/hooks/pre-commit  å‚è€ƒï¼š
Git - remote: error: cannot run hooks/post-receive: No such file or directory - Stack Overflow
å¦å¤–æ¨èä¸€ç¯‡è®² GIT æ¢è¡Œç¬¦çš„</description>
    </item>
    
    <item>
      <title>é€šè¿‡ pre-hook åˆ¤æ–­æ˜¯å¦æ¨é€é‡å¤çš„å†…å®¹</title>
      <link>https://qianpeili.github.io/hugoblog/posts/pre-receive%E4%B8%AD%E5%88%A4%E6%96%AD%E9%87%8D%E5%A4%8D%E7%9A%84%E6%96%87%E4%BB%B6/</link>
      <pubDate>Fri, 14 Jul 2017 18:20:59 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/pre-receive%E4%B8%AD%E5%88%A4%E6%96%AD%E9%87%8D%E5%A4%8D%E7%9A%84%E6%96%87%E4%BB%B6/</guid>
      <description>å‰è¨€ æ˜¨å¤©è¿ç»´åŒäº‹æ‰¾æˆ‘ï¼Œè¦æ±‚å®ç°ä¸€ä¸ª pre-receive é’©å­ï¼Œåœ¨é‡Œé¢åˆ¤æ–­æ¨é€çš„æ–‡ä»¶ä¸­æ˜¯å¦æœ‰é‡å¤çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰å°±æ‹’ç»æ­¤æ¬¡ pushã€‚é—®æˆ‘è¯¥å¦‚ä½•å®ç°ã€‚
è™½ç„¶è§‰å¾—è¿™ä¸ªåˆ¤æ–­æ ‡å‡†æœ‰ç‚¹è«åå…¶å¦™ï¼Œä½†è¿˜æ˜¯æƒ³åŠæ³•å®ç°äº†ä¸€ä¸‹ã€‚é€”ä¸­é‡åˆ°è¿‡å¾ˆå¤šé—®é¢˜ï¼Œä»¥ä¸ºæ— æ³•å®ç°ï¼Œä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ã€‚
ç®€å•ä»‹ç» pre-receive  å‚è€ƒè¿æ¥ï¼š Git - githooks Documentation
 pre-receive æ˜¯ Git ä¼—å¤š Hooks ä¸­çš„ä¸€ç§ï¼Œåœ¨è¿œç¨‹åº“ä¸­è§¦å‘ã€‚å½“ server ç«¯(æ¯”å¦‚ï¼šgitlab)æ”¶åˆ°ç”¨æˆ·çš„ push å†…å®¹åï¼Œåœ¨æ›´æ”¹è¿œç¨‹åº“å†…å®¹å‰ï¼Œå¦‚æœ pre-receive æ–‡ä»¶å­˜åœ¨ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚æ–‡ä»¶æ­£å¸¸é€€å‡ºï¼ˆexit 0ï¼‰è¡¨ç¤ºæ¥å—è¯¥æ¬¡ push, åä¹‹åˆ™æ‹’ç»ã€‚
server ç«¯æ‰§è¡Œ pre-receive æ—¶ï¼Œæ²¡æœ‰å‚æ•°ï¼Œä½†ä¼šä»æ ‡å‡†è¾“å…¥å†™å…¥ä¸€è¡Œæ•°æ®ï¼š
&amp;lt;old-value&amp;gt; SP &amp;lt;new-value&amp;gt; SP &amp;lt;ref-name&amp;gt; LF  Git object  å‚è€ƒè¿æ¥ï¼š
 Git Book - The Git Object Model Git Magic - ChapterÂ 8.Â Secrets Revealed   åœ¨ä½¿ç”¨ git push å‘½ä»¤æ—¶ï¼Œç»ˆç«¯å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡º
Writing objects: 100% (3/3), 253 bytes | 0 bytes/s, done.</description>
    </item>
    
    <item>
      <title>Bashè¾“å‡ºé‡å®šå‘</title>
      <link>https://qianpeili.github.io/hugoblog/posts/%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/</link>
      <pubDate>Sun, 09 Jul 2017 15:20:36 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/</guid>
      <description>å¯¹ bash å‘½ä»¤ä¸€ç›´ä¸å¤ªç†Ÿï¼Œæ¯æ¬¡ä½¿ç”¨ nohup å‘½ä»¤éƒ½è¦ä»ç½‘ä¸Šç°æ‰¾ã€‚ æœ‰æ—¶ä¼šçœ‹åˆ°ä¸€äº›å‘½ä»¤åé¢è·Ÿç€ &amp;quot;2&amp;gt;&amp;amp;1&amp;quot; çš„å‚æ•°ã€‚æ¯”å¦‚
nohupy python test.py &amp;gt; test.log 2&amp;gt;&amp;amp;1  ä¹‹å‰ä¹Ÿæ²¡æœ‰å¤šç®¡ï¼Œç›´æ¥ç”¨äº†ã€‚å‰å‡ å¤©åˆåœ¨å…¶ä»–äººçš„ shell è„šæœ¬ä¸­çœ‹åˆ° &amp;quot;2&amp;gt;&amp;amp;1&amp;quot;, æ‰æƒ³èµ·å»äº†è§£ä¸€ä¸‹ ï¼Œç°æŠŠå†…å®¹æ•´ç†ä¸€ä¸‹åšè®°å½•ã€‚
ä¸»è¦å†…å®¹å€Ÿé‰´äºBash One-Liners Explained, Part III: All about redirections - good coders code, great coders reuseï¼ŒåŸæ–‡éå¸¸è¯¦ç»†ï¼Œæ¬¢è¿è®¿é—®åŸæ–‡ã€‚
å½“ bash å¯åŠ¨æ—¶ï¼Œä¼šå¼€å¯ä¸‰ä¸ªæ ‡å‡†æ–‡ä»¶æè¿°ç¬¦ï¼šstdin, stdout, stderrã€‚
å®ƒä»¬éƒ½æŒ‡å‘äº† /dev/tty0 å³æˆ‘ä»¬å½“å‰ä½¿ç”¨çš„æ§åˆ¶å°ã€‚ 0 ä»£è¡¨ stdinï¼Œ 1 ä»£è¡¨ stdout, 2 ä»£è¡¨stderrã€‚
å½“æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªå‘½ä»¤ï¼š
python test.py &amp;gt; file  &amp;gt; å°±æ˜¯è¾“å‡ºé‡å®šå‘è¿ç®—ç¬¦ï¼Œbash é¦–å…ˆä¼šä»¥å†™çš„å½¢å¼æ‰“å¼€ fileï¼ŒæˆåŠŸåä¸Šè¿°å‘½ä»¤çš„ stdout å°±ä¼šè¢«å‘é€åˆ°è¿™ä¸ªæ‰“å¼€çš„ file ä¸­ã€‚å¦‚æœæ‰“å¼€å¤±è´¥ï¼Œåˆ™æ•´ä¸ªå‘½ä»¤å¤±è´¥ã€‚
python test.py &amp;gt; file å‘½ä»¤ç­‰åŒäº python test.</description>
    </item>
    
    <item>
      <title>Git Submoduleçš„ä½¿ç”¨</title>
      <link>https://qianpeili.github.io/hugoblog/posts/git-submodule%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Tue, 13 Jun 2017 19:11:01 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/git-submodule%E4%BD%BF%E7%94%A8/</guid>
      <description>Submoduleä»‹ç» å‰å‡ å¤©å› ä¸ºé¡¹ç›®éœ€æ±‚ï¼Œæ¥è§¦äº†Gitçš„SubmoduleåŠŸèƒ½ã€‚
å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é¡¹ç›®å„è‡ªç‹¬ç«‹å¼€å‘ï¼Œå› ä¸ºè¦ç”¨åˆ°ä¸€ä¸ªå…±åŒçš„å­åº“â€”â€”SubAï¼ŒSubAå³éœ€è¦ç‹¬ç«‹ä¿æŒç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆéœ€è¦åŒæ—¶ç»™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é¡¹ç›®æä¾›æ”¯æŒã€‚Submoduleæ­£å¥½å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†è¿™ä¸ªé—®é¢˜ã€‚
Submoduleè¯­æ³• git submodule [--quiet] add [&amp;lt;options&amp;gt;] [--] &amp;lt;repository[&amp;lt;path&amp;gt;] git submodule [--quiet] status [--cached] [--recursive] [--] [&amp;lt;path&amp;gt;â€¦â€‹] git submodule [--quiet] init [--] [&amp;lt;path&amp;gt;â€¦â€‹] git submodule [--quiet] deinit [-f|--force] (--all|[--] &amp;lt;path&amp;gt;â€¦â€‹) git submodule [--quiet] update [&amp;lt;options&amp;gt;] [--] [&amp;lt;path&amp;gt;â€¦â€‹] git submodule [--quiet] summary [&amp;lt;options&amp;gt;] [--] [&amp;lt;path&amp;gt;â€¦â€‹] git submodule [--quiet] foreach [--recursive] &amp;lt;command&amp;gt; git submodule [--quiet] sync [--recursive] [--] [&amp;lt;path&amp;gt;â€¦â€‹] git submodule [--quiet] absorbgitdirs [--] [&amp;lt;path&amp;gt;â€¦â€‹]  Submoduleå®è·µ ç›®å‰æœ‰3ä¸ªåº“ï¼š Mainï¼Œ SubA, SubB</description>
    </item>
    
    <item>
      <title>ã€ç¿»è¯‘ã€‘ Nginx å¦‚ä½•å¤„ç†ä¸€ä¸ªè¯·æ±‚</title>
      <link>https://qianpeili.github.io/hugoblog/posts/nginx%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82/</link>
      <pubDate>Fri, 09 Jun 2017 20:12:05 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/nginx%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82/</guid>
      <description>åŸæ–‡ï¼šHow nginx processes a request
ç½‘ä¸Šä¸ä¹å¥½çš„ç¿»è¯‘ï¼Œæˆ‘å†åšä¸€æ¬¡ç¿»è¯‘ï¼Œåªæ˜¯ä¸ºäº†è®©è‡ªå·±æ›´å¥½åœ°ç†è§£ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åè‡ªå·±ç¿»é˜…ã€‚
Name-based virtual servers nginx é¦–å…ˆéœ€è¦åˆ¤æ–­å“ªä¸ª Server æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†3ä¸ªè™šæ‹ŸæœåŠ¡å™¨ï¼Œå¹¶ä¸”éƒ½ç›‘å¬äº†80ç«¯å£ã€‚
server { listen 80; server_name example.org www.example.org; ... } server { listen 80; server_name example.net www.example.net; ... } server { listen 80; server_name example.com www.example.com; ... }  è¿™ä»½é…ç½®æ–‡ä»¶æµ‹è¯•çš„æƒ…å†µæ˜¯ï¼Œnginx æ ¹æ®è¯·æ±‚å¤´ä¸­çš„ Host å­—æ®µï¼Œé€‰æ‹©å°†è¯·æ±‚å¯¼å‘å“ªä¸ª Serverã€‚å¦‚æœHostçš„å€¼ä¸åŒ¹é…æ‰€æœ‰ server_name,æˆ–è€…å€¼ä¸ºç©ºï¼Œé‚£ä¹ˆ nginx ä¼šå°†è¯·æ±‚å¯¼å‘ç›‘å¬è¿™ä¸ªç«¯å£çš„é»˜è®¤è™šæ‹Ÿ Serverã€‚å¦‚ä¸Šçš„é…ç½®æ–‡ä»¶ï¼Œnginx ä¼šé»˜è®¤æŠŠç¬¬ä¸€ä¸ª Server é€‰ä¸ºé»˜è®¤ Serverã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡é…ç½® listen æŒ‡ä»¤çš„ default_server å‚æ•°ï¼Œæ¥æŒ‡å®šé»˜è®¤ Serverã€‚
server { listen 80 default_server; server_name example.net www.example.net; ... }  How to prevent processing requests with undefined server names å¦‚æœæƒ³è¦é˜»æ­¢æ²¡æœ‰Hostå¤´å­—æ®µçš„è¯·æ±‚ï¼Œå¯ä»¥é€šè¿‡é…ç½®ä¸€ä¸ªå¦‚ä¸‹Serveræ¥å®ç°ï¼š</description>
    </item>
    
    <item>
      <title>Goçš„ä¾èµ–ç®¡ç†å·¥å…·govendor</title>
      <link>https://qianpeili.github.io/hugoblog/posts/go%E7%9A%84%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7govendor/</link>
      <pubDate>Mon, 22 May 2017 18:11:05 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/go%E7%9A%84%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7govendor/</guid>
      <description>ä¾èµ–ç®¡ç†æ˜¯æˆ‘æ¥è§¦ go ä»¥æ¥ï¼Œè§‰å¾—æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ã€‚ ä¸è¿‡åœ¨ go-1.5 ç‰ˆæœ¬ä¸­ï¼Œå‡ºç°äº†ä¸€ä¸ª vendor çš„æ¦‚å¿µï¼Œå¹¶ä¸” vendor ä½œä¸ºä¸€ä¸ªé»˜è®¤åŠŸèƒ½å­˜åœ¨äº1.7ä¹‹åçš„ç‰ˆæœ¬ä¸­ã€‚
vendorçš„æ¦‚å¿µå°±ç±»ä¼¼äºpythonä¸­çš„ virtualenv å»ºç«‹çš„ envï¼Œå®ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾äº†é¡¹ç›®æ‰€ç”¨çš„ä¾èµ–ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰ä¸ªæ–‡ä»¶ import äº†ç¬¬ä¸‰æ–¹çš„ packageï¼Œè€Œè¿™ä¸ª package åˆå­˜åœ¨é¡¹ç›®çš„ vendor ç›®å½•ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶ç¼–è¯‘çš„æ—¶å€™ä¼šä» vendor ä¸­ import è¿™ä¸ª package
æ¯”å¦‚ï¼š
$GOPATH | src/ | | project/ | | | main.go | | | vendor/ | | | | github.com/pkg/sftp/ | | | | golang.org/x/crypto/ssh/ | | | | | agent/  å…¶ä¸­ project/main.go ä¸­:
import ( ... &amp;quot;golang.org/x/crypto/ssh&amp;quot; )  å› ä¸ºé¡¹ç›® project ä¸­æœ‰ vendor ç›®å½•ï¼Œå¹¶ä¸”å­˜åœ¨ golang.</description>
    </item>
    
    <item>
      <title>tcpç»å—æ—¶å»¶</title>
      <link>https://qianpeili.github.io/hugoblog/posts/tcp%E7%BB%8F%E5%8F%97%E6%97%B6%E5%BB%B6/</link>
      <pubDate>Sat, 20 May 2017 16:15:51 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/tcp%E7%BB%8F%E5%8F%97%E6%97%B6%E5%BB%B6/</guid>
      <description>å­¦ TCP/IP åè®®å¬åˆ°æœ€å¤šçš„å°±æ˜¯ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹åè®®äº†å§ã€‚ç”±äºæœ€è¿‘åœ¨æŠ˜è…¾ tcpdump ï¼Œå°±æƒ³ç€å®æˆ˜æŠ“ä¸€ä¸‹ tcp åè®®çš„è¿™ä¸ªæ¡æ‰‹å’ŒæŒ¥æ‰‹åè®®ã€‚äºæ˜¯æˆ‘åœ¨æœ¬åœ°å‘å†…ç½‘æµ‹è¯•æœºå™¨çš„æœåŠ¡ä¸Šå‘èµ·äº†ä¸€ä¸ª POST è¯·æ±‚ï¼ŒæŠ“åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š
15:05:03.904647 IP socket-client.56558 &amp;gt; socket-server.3000: Flags [S], seq 2090421259, win 64240, options [mss 1460,nop,wscale 8,nop,nop,sackOK], length 0 15:05:03.904699 IP socket-server.3000 &amp;gt; socket-client.56558: Flags [S.], seq 2303886283, ack 2090421260, win 29200, options [mss 1460,nop,nop,sackOK,nop,wscale 7], length 0 15:05:03.905263 IP socket-client.56558 &amp;gt; socket-server.3000: Flags [.], ack 1, win 2053, length 0 15:05:03.905596 IP socket-client.56558 &amp;gt; socket-server.3000: Flags [P.], seq 1:230, ack 1, win 2053, length 229 15:05:03.</description>
    </item>
    
    <item>
      <title>tcpdumpçš„ä½¿ç”¨å®ä¾‹</title>
      <link>https://qianpeili.github.io/hugoblog/posts/tcpdump%E7%9A%84%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B/</link>
      <pubDate>Sat, 20 May 2017 13:46:45 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/tcpdump%E7%9A%84%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B/</guid>
      <description>ä»‹ç» tcpdump æ˜¯ Linux ç³»ç»Ÿä¸‹è¿›è¡Œç½‘ç»œåˆ†æçš„é‡è¦å·¥å…·ï¼Œæˆ‘ä¹Ÿå› ä¸ºå¯¹æŠ“åŒ…è¿™ä¸€å—æœ‰äº›å¥½å¥‡ï¼Œå°±æ‰¾äº†äº›èµ„æ–™å­¦ä¹ ï¼Œç„¶åæ•´ç†æˆè¿™ç¯‡æ–‡ç« ã€‚
ä½¿ç”¨è¯´æ˜ å‘½ä»¤æ¨¡å¼ï¼š
tcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ] [ -c count ] [ -C file_size ] [ -G rotate_seconds ] [ -F file ] [ -i interface ] [ -j tstamp_type ] [ -m module ] [ -M secret ] [ --number ] [ -Q in|out|inout ] [ -r file ] [ -V file ] [ -s snaplen ] [ -T type ] [ -w file ] [ -W filecount ] [ -E spi@ipaddr algo:secret,.</description>
    </item>
    
    <item>
      <title>unicodeå°æŠ€å·§</title>
      <link>https://qianpeili.github.io/hugoblog/posts/unicode%E5%B0%8F%E6%8A%80%E5%B7%A7/</link>
      <pubDate>Fri, 07 Apr 2017 10:20:30 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/unicode%E5%B0%8F%E6%8A%80%E5%B7%A7/</guid>
      <description>ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜
åœ¨mysqlæŸ¥è¯¢æ—¥å¿—æ—¶ï¼Œå‘ç°ä¸€äº›unicodeå­—ç¬¦ä¸²å­˜å‚¨å˜æˆäº†
u7528u6237u53d6u6d88u8ba2u5355u8bf7u6c42  è¿™ä¸ªå½¢å¼ï¼Œæ‰‹åŠ¨åŠ \è™½ç„¶å¯è¡Œï¼Œä½†æ¯•ç«Ÿä¸æ˜¯é•¿ä¹…çš„åŠæ³•
æ‰€ä»¥æœ€å¥½çš„åŠæ³•æ˜¯å°†å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼Œæ ¹æ®unicodeæ ¼å¼è½¬æ¢æˆunicode
ä»£ç å¦‚ä¸‹:
import re a = &amp;quot;u7528u6237u53d6u6d88u8ba2u5355u8bf7u6c42&amp;quot; pattern = re.compile(&amp;quot;\u(.{4})&amp;quot;) maps = pattern.findall(a) s = &amp;quot;&amp;quot; for i in maps: tmp = unichr(int(i, 16)) s += tmp print s  å°±ä¼šè¾“å‡ºåŸå…ˆä»£è¡¨çš„æ–‡å­—æ„æ€äº†
æ³¨ï¼š ä»¥ä¸Šæ˜¯ä»£ç æ˜¯python2ç‰ˆæœ¬ï¼Œ python3éœ€è¦æŠŠunichræ”¹æˆchr</description>
    </item>
    
    <item>
      <title>ç”¨mongodbç»Ÿè®¡å»é‡åçš„æ•°é‡</title>
      <link>https://qianpeili.github.io/hugoblog/posts/calculate_unique_size_with_mongodb/</link>
      <pubDate>Thu, 16 Mar 2017 18:11:29 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/calculate_unique_size_with_mongodb/</guid>
      <description>å‡è®¾æœ‰ä¸€ä¸ªæ´»åŠ¨è®°å½•è¡¨ï¼Œè®°å½•äº†ç©å®¶çš„å‚ä¸ä¿¡æ¯ï¼Œæ¯ä¸ªç©å®¶æœ‰å¤šæ¡è®°å½•ï¼Œæ ¼å¼å¦‚ä¸‹
{ _id: ObjectId(), uid: 1014, score: 10 }  è¦æ±‚ç»Ÿè®¡å‚ä¸æ´»åŠ¨çš„ç©å®¶ä¸­ï¼Œåˆ†æ•°å¤§äºç­‰äº10çš„äººæ•°ã€‚
var num = db.activity_log.aggregate([ {$match: {&amp;quot;score&amp;quot;: {&amp;quot;$ge&amp;quot;: 10}}}, # ç­›é€‰ {$group: {&amp;quot;_id&amp;quot;: null, &amp;quot;users&amp;quot;: {$addToSet: &amp;quot;$uid&amp;quot;}}}, # å°†ç©å®¶IDæ”¾å…¥ä¸€ä¸ªé›†åˆï¼Œä½œå»é‡ {&amp;quot;$project&amp;quot;: {&amp;quot;_id&amp;quot;: {&amp;quot;$size&amp;quot;: &amp;quot;$users&amp;quot;}}} # æ±‚é›†åˆå¤§å° ]);  å¾—å‡ºç»“æœ{&amp;quot;_id&amp;quot;: 46}</description>
    </item>
    
    <item>
      <title>Replace Type Code With State/Strategy</title>
      <link>https://qianpeili.github.io/hugoblog/posts/replace_type_code_with_state_strategy/</link>
      <pubDate>Mon, 26 Dec 2016 20:55:47 +0800</pubDate>
      
      <guid>https://qianpeili.github.io/hugoblog/posts/replace_type_code_with_state_strategy/</guid>
      <description>ä»Šå¤©åœ¨é˜…è¯»ã€Šé‡æ„ï¼šæ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªreplace type code with state/strategyçš„æ¦‚å¿µï¼Œä¸æ˜¯å¾ˆäº†è§£ï¼Œ ä½†å¤§æ¦‚æ‡‚äº†æ„æ€ã€‚å†³å®šç”¨pythonå®ç°ä¸€ä¸‹å…¶ä»£ç ã€‚
è§‰å¾—ä¸»è¦æ€æƒ³æ˜¯ï¼š
ä¸€ä¸ªå¯¹è±¡(Movie)æœ‰ä¸€ä¸ªå±æ€§(price_code)ï¼Œè¿™ä¸ªå±æ€§çš„ä¸åŒä¼šå¯¼è‡´å¯¹è±¡çš„æ–¹æ³•(get_charge)è¿”å›ä¸åŒçš„ç»“æœã€‚
æœ€å¼€å§‹çš„æƒ³æ³•è‚¯å®šæ˜¯ç”¨subclassè¿›è¡Œåˆ†ç±»ï¼Œä½†æ˜¯ä¸€éƒ¨ç”µå½±å¯ä»¥æ›´æ¢price_codeï¼Œä¸€ä¸ªå¯¹è±¡æ²¡æ³•æ›´æ¢å…¶æ‰€å±ç±»ï¼Œæ‰€ä»¥ç›´æ¥å»ºç«‹ä¸€ä¸ªpriceå¯¹è±¡ä½œä¸ºå±æ€§ï¼Œæ”¹å˜price_codeæ—¶ï¼Œå³æ”¹å˜äº†priceå¯¹è±¡ã€‚
é‡æ„å‰çš„ä»£ç ï¼š
class Movie(object): REGULAR = 0 NEW_RELEASE = 1 CHILDRENS = 2 def __init__(self, title, price_code): self.title = title self.price_code = price_code def get_charge(self, days_rented): result = 0 if self.price_code == self.REGULAR: result += 2 if days_rented &amp;gt; 2: result += (days_rented - 2) * 1.5 elif self.price_code == self.NEW_RELEASE: result += days_rented * 3 elif self.price_code == self.CHILDRENS: result += 1.</description>
    </item>
    
  </channel>
</rss>